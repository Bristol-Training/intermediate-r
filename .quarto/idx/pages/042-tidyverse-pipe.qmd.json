{"title":"Pipes %>%","markdown":{"yaml":{"title":"Pipes %>%"},"headingText":"A tibble: 47 x 3","containsRefs":false,"markdown":"\n\n\nThe `tidyverse` makes heavy use of the R concept of forward pipes. Forward pipes, represented via `%>%`, are provided by the [magrittr](https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html) package, which should be automatically loaded by the tidyverse.\n\nA forward pipe forwards the variable on the left into the first argument to the function on the right, e.g.\n\n```r\n\"kitten\" %>% print()\n```\n\nwill forward the string \"kitten\" so that it is the first argument to the function `print`. Hence this is exactly identical to\n\n```r\nprint(\"kitten\")\n```\n\nYou may ask why this is useful? It is useful because it enables you to chain together a lot of functions. For example, the `tidyverse` [dply](https://dplyr.tidyverse.org) package provides the function `filter`, for filtering data.\n\nSo;\n\n```r\ncats %>% filter(Sex==\"F\")\n```\n\n```\n   Sex   BodyWeight HeartWeight\n   <chr>      <dbl>       <dbl>\n 1 F            2           7  \n 2 F            2           7.4\n 3 F            2           9.5\n 4 F            2.1         7.2\n 5 F            2.1         7.3\n 6 F            2.1         7.6\n 7 F            2.1         8.1\n 8 F            2.1         8.2\n 9 F            2.1         8.3\n10 F            2.1         8.5\n# … with 37 more rows\n```\n\nhas filtered the cats data set from the last page to return\na `tibble` that contains data only for female cats.\n\nThis was identical to typing;\n\n```r\nfilter(cats, Sex==\"F\")\n```\n\nThe power comes that we can now chain filters, e.g.\n\n```r\ncats %>% filter(Sex==\"F\") %>% filter(BodyWeight > 2.5)\n```\n\n```\n# A tibble: 11 x 3\n   Sex   BodyWeight HeartWeight\n   <chr>      <dbl>       <dbl>\n 1 F            2.6         8.7\n 2 F            2.6        10.1\n 3 F            2.6        10.1\n 4 F            2.7         8.5\n 5 F            2.7        10.2\n 6 F            2.7        10.8\n 7 F            2.9         9.9\n 8 F            2.9        10.1\n 9 F            2.9        10.1\n10 F            3          10.6\n11 F            3          13  \n```\n\nWe can then use the [dplyr](https://dplyr.tidyverse.org) \n`summarise` function to call `calculate_mean` on a specified\nrow of this filtered data, e.g.\n\n```r\ncats %>% \n    filter(Sex==\"F\") %>% \n    filter(BodyWeight>2.5) %>% \n    summarise(mean=calculate_mean(HeartWeight))\n```\n\nwill output\n\n```\n# A tibble: 1 x 1\n   mean\n  <dbl>\n1  10.2\n```\n\nas the mean average of the heart weight in grams of female cats whose\nbody weight is greater than 2.5 kg.\n\nNote how we have split this over multiple lines, putting\nthe forward pipe `%>%` at the end so that it is clear that the line continues\n(use Shift+Enter to start a new line without running the command in the\nR Console).\n\nTo save this to a variable, we would use the assign `<-` as normal, \nhence the full code should be;\n\n```r\naverage_heart_weight <- cats %>%\n    filter(Sex==\"F\") %>%\n    filter(BodyWeight>2.5) %>%\n    summarise(mean=calculate_mean(HeartWeight))\n```\n\nYes, this is a very dense bit of code. This is typical for R. You will \noften see very dense blocks of code that use forward pipes to push\ndata through several functions, resulting in a final output result.\nAs you can see, it is important that you name your variables, data,\ncolumns and functions clearly, so that it is easier for future \nreaders of your code to understand what is going on. \n\nFinally, note that `average_heart_weight` is a 1x1 `tibble`. You can extract\nthe actual numeric value by typing `as.numeric(average_heart_weight)`.\n\n> EXERCISE\n>\n> Calculate the average heart weight of male cats whose\n> body weight is greater than or equal to 3.0 kg.\n>\n> [Answer](magrittr_answer01.html)\n>\n> Calculate the maximum body weight of both the male cat\n> and the female cat that has a heart weight of less than\n> or equal to 9 grams.\n>\n> [Answer](magrittr_answer02.html)\n>\n> Look back at the [vignette](https://cran.r-project.org/web/packages/broom/vignettes/broom_and_dplyr.html)\n> you found when searching for the Pearson's product-moment correlation.\n> How much more of this vignette do you now understand? \n> Have a go at installing packages that you don't recognise, and \n> using `?` in RStudio to get help on the functions that are new to you.\n\n","srcMarkdownNoYaml":"\n\n\nThe `tidyverse` makes heavy use of the R concept of forward pipes. Forward pipes, represented via `%>%`, are provided by the [magrittr](https://cran.r-project.org/web/packages/magrittr/vignettes/magrittr.html) package, which should be automatically loaded by the tidyverse.\n\nA forward pipe forwards the variable on the left into the first argument to the function on the right, e.g.\n\n```r\n\"kitten\" %>% print()\n```\n\nwill forward the string \"kitten\" so that it is the first argument to the function `print`. Hence this is exactly identical to\n\n```r\nprint(\"kitten\")\n```\n\nYou may ask why this is useful? It is useful because it enables you to chain together a lot of functions. For example, the `tidyverse` [dply](https://dplyr.tidyverse.org) package provides the function `filter`, for filtering data.\n\nSo;\n\n```r\ncats %>% filter(Sex==\"F\")\n```\n\n```\n# A tibble: 47 x 3\n   Sex   BodyWeight HeartWeight\n   <chr>      <dbl>       <dbl>\n 1 F            2           7  \n 2 F            2           7.4\n 3 F            2           9.5\n 4 F            2.1         7.2\n 5 F            2.1         7.3\n 6 F            2.1         7.6\n 7 F            2.1         8.1\n 8 F            2.1         8.2\n 9 F            2.1         8.3\n10 F            2.1         8.5\n# … with 37 more rows\n```\n\nhas filtered the cats data set from the last page to return\na `tibble` that contains data only for female cats.\n\nThis was identical to typing;\n\n```r\nfilter(cats, Sex==\"F\")\n```\n\nThe power comes that we can now chain filters, e.g.\n\n```r\ncats %>% filter(Sex==\"F\") %>% filter(BodyWeight > 2.5)\n```\n\n```\n# A tibble: 11 x 3\n   Sex   BodyWeight HeartWeight\n   <chr>      <dbl>       <dbl>\n 1 F            2.6         8.7\n 2 F            2.6        10.1\n 3 F            2.6        10.1\n 4 F            2.7         8.5\n 5 F            2.7        10.2\n 6 F            2.7        10.8\n 7 F            2.9         9.9\n 8 F            2.9        10.1\n 9 F            2.9        10.1\n10 F            3          10.6\n11 F            3          13  \n```\n\nWe can then use the [dplyr](https://dplyr.tidyverse.org) \n`summarise` function to call `calculate_mean` on a specified\nrow of this filtered data, e.g.\n\n```r\ncats %>% \n    filter(Sex==\"F\") %>% \n    filter(BodyWeight>2.5) %>% \n    summarise(mean=calculate_mean(HeartWeight))\n```\n\nwill output\n\n```\n# A tibble: 1 x 1\n   mean\n  <dbl>\n1  10.2\n```\n\nas the mean average of the heart weight in grams of female cats whose\nbody weight is greater than 2.5 kg.\n\nNote how we have split this over multiple lines, putting\nthe forward pipe `%>%` at the end so that it is clear that the line continues\n(use Shift+Enter to start a new line without running the command in the\nR Console).\n\nTo save this to a variable, we would use the assign `<-` as normal, \nhence the full code should be;\n\n```r\naverage_heart_weight <- cats %>%\n    filter(Sex==\"F\") %>%\n    filter(BodyWeight>2.5) %>%\n    summarise(mean=calculate_mean(HeartWeight))\n```\n\nYes, this is a very dense bit of code. This is typical for R. You will \noften see very dense blocks of code that use forward pipes to push\ndata through several functions, resulting in a final output result.\nAs you can see, it is important that you name your variables, data,\ncolumns and functions clearly, so that it is easier for future \nreaders of your code to understand what is going on. \n\nFinally, note that `average_heart_weight` is a 1x1 `tibble`. You can extract\nthe actual numeric value by typing `as.numeric(average_heart_weight)`.\n\n> EXERCISE\n>\n> Calculate the average heart weight of male cats whose\n> body weight is greater than or equal to 3.0 kg.\n>\n> [Answer](magrittr_answer01.html)\n>\n> Calculate the maximum body weight of both the male cat\n> and the female cat that has a heart weight of less than\n> or equal to 9 grams.\n>\n> [Answer](magrittr_answer02.html)\n>\n> Look back at the [vignette](https://cran.r-project.org/web/packages/broom/vignettes/broom_and_dplyr.html)\n> you found when searching for the Pearson's product-moment correlation.\n> How much more of this vignette do you now understand? \n> Have a go at installing packages that you don't recognise, and \n> using `?` in RStudio to get help on the functions that are new to you.\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":true,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"shift-heading-level-by":1,"highlight-style":"github","output-file":"042-tidyverse-pipe.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","theme":["cosmo","../styles.scss"],"title":"Pipes %>%"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}