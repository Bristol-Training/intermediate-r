[
  {
    "objectID": "pages/042-tidyverse-pipe.html",
    "href": "pages/042-tidyverse-pipe.html",
    "title": "Pipes %>%",
    "section": "",
    "text": "Error in library(tidyverse): there is no package called 'tidyverse'\n\n\nError in read_csv(\"https://raw.githubusercontent.com/Bristol-Training/intermediate-r/refs/heads/main/data/cats.csv\"): could not find function \"read_csv\"\n\n\nThe tidyverse makes heavy use of the R concept of forward pipes. Forward pipes, represented via %&gt;%, are provided by the magrittr package, which should be automatically loaded by the tidyverse.\nA forward pipe ‘%&gt;%’ forwards the variable on the left into the first argument to the function on the right, e.g.\n\n\"kitten\" %&gt;% print()\n\nError in \"kitten\" %&gt;% print(): could not find function \"%&gt;%\"\n\n\nwill forward the string “kitten” so that it is the first argument to the function print. Hence this is exactly identical to\n\nprint(\"kitten\")\n\n[1] \"kitten\"\n\n\nThis is useful because it enables you to chain together a lot of functions. For example, the tidyverse dply package provides the function filter, for filtering data.\nlibrary(tidyverse)\n\ncats &lt;- read_csv(\"https://raw.githubusercontent.com/Bristol-Training/intermediate-r/refs/heads/main/data/cats.csv\")\n\ncats %&gt;% filter(Sex==\"F\")\n\n\nError in cats %&gt;% filter(Sex == \"F\"): could not find function \"%&gt;%\"\n\n\nhas filtered the cats data set from the last page to return a tibble that contains data only for female cats. This was identical to typing filter(cats, Sex==\"F\").\nThe power comes that we can now chain filters, e.g.\n\ncats %&gt;% filter(Sex==\"F\") %&gt;% filter(BodyWeight &gt; 2.5)\n\nError in cats %&gt;% filter(Sex == \"F\") %&gt;% filter(BodyWeight &gt; 2.5): could not find function \"%&gt;%\"\n\n\nWe can then use the dplyr summarise() function to create a new dataframe with the mean of a specified column of this filtered data. For example,\n\ncats %&gt;% \n    filter(Sex==\"F\") %&gt;% \n    filter(BodyWeight&gt;2.5) %&gt;% \n    summarise(mean=mean(HeartWeight))\n\nError in cats %&gt;% filter(Sex == \"F\") %&gt;% filter(BodyWeight &gt; 2.5) %&gt;% : could not find function \"%&gt;%\"\n\n\nis the mean average of the heart weight in grams of female cats whose body weight is greater than 2.5 kg.\nNote how we have split this over multiple lines, putting the forward pipe %&gt;% at the end so that it is clear that the line continues. If you are using the R Console you can start a new line with Shift+Enter without running the command.\nTo save this to a variable, we would use the assign &lt;- as normal\naverage_heart_weight &lt;- cats %&gt;%\n    filter(Sex==\"F\") %&gt;%\n    filter(BodyWeight&gt;2.5) %&gt;%\n    summarise(mean=mean(HeartWeight))\nThis is a very dense bit of code. This is typical for R. You will often see very dense blocks of code that use forward pipes to push data through several functions, resulting in a final output result. As you can see, it is important that you name your variables, data, columns and functions clearly, so that it is easier for future readers of your code to understand what is going on.\nFinally, note that average_heart_weight is a 1x1 tibble. You can extract the actual numeric value by typing as.numeric(average_heart_weight).\n\n\n\n\n\n\nExercise\n\n\n\nCalculate the average heart weight of male cats whose body weight is greater than or equal to 3.0 kg.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nUsing dplyr summarise() function we can write\n\ncats %&gt;%\n     filter(Sex==\"M\") %&gt;%\n     filter(BodyWeight&gt;=3.0) %&gt;%\n     summarise(mean=mean(HeartWeight))\n\nError in cats %&gt;% filter(Sex == \"M\") %&gt;% filter(BodyWeight &gt;= 3) %&gt;% summarise(mean = mean(HeartWeight)): could not find function \"%&gt;%\"\n\n\nAlternatively, in this case we could use dplyr select() function\n\ncats %&gt;%\n     filter(Sex==\"M\") %&gt;%\n     filter(BodyWeight&gt;=3.0) %&gt;%\n     select(HeartWeight) %&gt;%\n     unlist() %&gt;%\n     mean()\n\nError in cats %&gt;% filter(Sex == \"M\") %&gt;% filter(BodyWeight &gt;= 3) %&gt;% select(HeartWeight) %&gt;% : could not find function \"%&gt;%\"\n\n\n\n\n\n\n\n\n\n\n\nExercise\n\n\n\nCalculate the maximum body weight of both the male cat and the female cat that has a heart weight of less than or equal to 9 grams.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\n\nmax_male &lt;- cats %&gt;%\n   filter(Sex==\"M\") %&gt;%\n   filter(HeartWeight &lt;= 9.0) %&gt;%\n   summarise(max=max(BodyWeight))\n\nError in cats %&gt;% filter(Sex == \"M\") %&gt;% filter(HeartWeight &lt;= 9) %&gt;% : could not find function \"%&gt;%\"\n\nmax_female &lt;- cats %&gt;%\n   filter(Sex==\"F\") %&gt;%\n   filter(HeartWeight &lt;= 9.0) %&gt;%\n   summarise(max=max(BodyWeight))\n\nError in cats %&gt;% filter(Sex == \"F\") %&gt;% filter(HeartWeight &lt;= 9) %&gt;% : could not find function \"%&gt;%\"\n\ncat( \"Maximum body weight: male =\",\n     as.numeric(max_male) %&gt;% round(digits=2),\n     \"kg, female =\",\n     as.numeric(max_female) %&gt;% round(digits=2),\n     \"kg\\n\" )\n\nError in as.numeric(max_male) %&gt;% round(digits = 2): could not find function \"%&gt;%\"\n\n\n\n\n\n\n\n\n\n\n\nExercise\n\n\n\nLook back at the vignette broom and dplyr you found when searching for the Pearson’s product-moment correlation. How much more of this vignette do you now understand?",
    "crumbs": [
      "Tidyverse",
      "Pipes %>%"
    ]
  },
  {
    "objectID": "pages/030-functions.html",
    "href": "pages/030-functions.html",
    "title": "Functions",
    "section": "",
    "text": "A core building block of all programming languages is a function. A function is a reusable block of code that can be used over and over again in your program. A function takes inputs (called arguments), it then does something to those inputs to produce some outputs, which are returned to you.\nYou’ve already used many functions. Let’s look at, for example, this snippet of code\n\nlibrary(stringr)\n\nError in library(stringr): there is no package called 'stringr'\n\nhello &lt;- \"Hello, R!\"\nlength &lt;- str_length(hello)\n\nError in str_length(hello): could not find function \"str_length\"\n\ncat(hello, \"- has\", length, \"characters\") \n\nHello, R! - has \n\n\nError in cat(hello, \"- has\", length, \"characters\"): argument 3 (type 'builtin') cannot be handled by 'cat'\n\n\nThis code has three functions:\n\nlibrary : This function loads the package passed as the argument, e.g. library(stringr) loads the stringr package\nstr_length : This function calculates the number of characters in the string passed in as the argument, returning the number of characters. When input the value of hello (namely Hello R) it returns the number 7.\ncat : This prints its arguments to the screen, returning nothing.\n\nAll of the functions in stringr start with str_ and take a string (or vector/list of strings) as the first argument. Some other key functions are:\n\nstr_c : Modern replacement for cat\nstr_length : Count the number of characters in a string\nstr_sub : Extract substrings\n\n\n\n\n\n\n\nExercise\n\n\n\nUse ? to learn about the above stringr functions and have a play printing different strings to the console.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nFor example, we can look at the function str_c with\n?str_c\n\nUsing the below example dataframe, we compared the different behaviour of cat vs str_c\n\ndf &lt;- data.frame(\n  name = c(\"Jean\", \"Thomas\", \"Daniel\"),\n  age = c(25, 30, 35),\n  is_student = c(TRUE, FALSE, FALSE)\n)\n\n\ncat(df$name, \"-\", df$is_student)\n\nJean Thomas Daniel - TRUE FALSE FALSE\n\nstr_c(df$name, \"-\", df$is_student)\n\nError in str_c(df$name, \"-\", df$is_student): could not find function \"str_c\"",
    "crumbs": [
      "Functions"
    ]
  },
  {
    "objectID": "pages/980-summary.html",
    "href": "pages/980-summary.html",
    "title": "Summary",
    "section": "",
    "text": "That’s all we have for this workshop. By now you should have a better understanding of how you can make your code more easily shared, reusable and tidy. In this workshow we have covered:\n\nSearch for and install R packages\nUsing R packages and their functions\nWriting your own functions\nError handling in functions\nWrite tidy code to work with tidy data with tidyverse",
    "crumbs": [
      "Summary"
    ]
  },
  {
    "objectID": "pages/041-tidyverse-tibbles.html",
    "href": "pages/041-tidyverse-tibbles.html",
    "title": "Tibbles and readr",
    "section": "",
    "text": "A tibble is the modern tidyverse version of a data.frame. A tibble is a data.frame, and so can be used in the same way. But it comes with more powerful features and removes inconsistent and confusing behaviour.\nIn the same way, readr provides modern tidyverse replacements for R’s standard reading functions. readr provides read_csv, which is a better way of reading csv files than R’s standard read.csv.\nLet’s now use the tidyverse to read_csv the dataset Anatomical Data from Domestic Cats into a tibble. The first thing you will notice is that the tidyverse has printed out some useful information.\n\n\nError in library(tidyverse): there is no package called 'tidyverse'\n\n\n\n# Did you load tidyverse? library(tidyverse)\n\ncats &lt;- read_csv(\"https://raw.githubusercontent.com/Bristol-Training/intermediate-r/refs/heads/main/data/cats.csv\")\n\nError in read_csv(\"https://raw.githubusercontent.com/Bristol-Training/intermediate-r/refs/heads/main/data/cats.csv\"): could not find function \"read_csv\"\n\n\nThis is telling you that read_csv found three columns; Sex, which is treated as a columns of strings (characters), and BodyWeight and HeartWeight, which are both treated as columns of floating point numbers (doubles).\nNext, if you type cats and press return you will see\n\ncats\n\nError: object 'cats' not found\n\n\nthat the tibble summarises itself to the screen. This makes it much easier to quickly look at some data without it overflowing your console.\nAs a tibble is a data.frame, you can use the same methods of accessing data, e.g.\n\ncats$BodyWeight\n\nError: object 'cats' not found\n\n\n\ncats[1,]\n\nError: object 'cats' not found\n\n\n\n\n\n\n\n\nExercise\n\n\n\nLoad the cats data set into a tibble using read_csv. Use the mean and max functions to calculate the mean and max body weight and heart weight of the cats.\nNote that according to this dataset description the body weight is in kilograms and the heart weight is in grams. As is normal for real-world data, there is little consistency in units.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\n\nlibrary(tidyverse)\n\nError in library(tidyverse): there is no package called 'tidyverse'\n\ncats &lt;- read_csv(\"https://raw.githubusercontent.com/Bristol-Training/intermediate-r/refs/heads/main/data/cats.csv\")\n\nError in read_csv(\"https://raw.githubusercontent.com/Bristol-Training/intermediate-r/refs/heads/main/data/cats.csv\"): could not find function \"read_csv\"\n\nmean_body_weight &lt;- mean(cats$BodyWeight)\n\nError: object 'cats' not found\n\nmax_body_weight &lt;- max(cats$BodyWeight)\n\nError: object 'cats' not found\n\ncat( sprintf(\"Body weight: mean = %.2f kg, max = %.2f kg\\n\",\n             mean_body_weight, max_body_weight) )\n\nError: object 'mean_body_weight' not found\n\ncat( \"Heart Weight: mean = \",\n      mean(cats$HeartWeight) %&gt;% round(digits=2),\n      \"g, max =\",\n      max(cats$HeartWeight) %&gt;% round(digits=2),\n      \"g\\n\")\n\nError in mean(cats$HeartWeight) %&gt;% round(digits = 2): could not find function \"%&gt;%\"",
    "crumbs": [
      "Tidyverse",
      "Tibbles and readr"
    ]
  },
  {
    "objectID": "pages/070-worksheet.html",
    "href": "pages/070-worksheet.html",
    "title": "Worksheet",
    "section": "",
    "text": "We saw in Beginning R how to load a dataset with read.csv. This was a study about gene expression data of 42 ER- and ER+ breast cancer patients. The code was like:\nbreast &lt;- read.csv(\"https://raw.githubusercontent.com/Bristol-Training/beginning-r/refs/heads/main/data/GDS3716.soft\",\n            sep=\"\\t\",\n            skip=99)\nUsing tidyverse, answer the below exercises.\n\n\n\n\n\n\nExercise 1\n\n\n\nRead the dataset. You may want to look at the documentation for read_delim function. Remember specifying the separator character and number of lines you want to skip.\n\n\n\n\n\n\n\n\nAnswer 1\n\n\n\n\n\n\nlibrary(tidyverse)\n\nError in library(tidyverse): there is no package called 'tidyverse'\n\nbreast &lt;- read_delim(\"https://raw.githubusercontent.com/Bristol-Training/beginning-r/refs/heads/main/data/GDS3716.soft\",\n            delim=\"\\t\",\n            skip=99)\n\nError in read_delim(\"https://raw.githubusercontent.com/Bristol-Training/beginning-r/refs/heads/main/data/GDS3716.soft\", : could not find function \"read_delim\"\n\n\nThe function read_delim is quite smart and if we don’t specify the delimiter character will figure it out, although it may not always work.\nbreast &lt;- read_delim(\"https://raw.githubusercontent.com/Bristol-Training/beginning-r/refs/heads/main/data/GDS3716.soft\",\n            skip=99)\n\n\n\n\n\n\n\n\n\nExercise 2\n\n\n\nCalculate the average expresion levels for genes matching the name TP53.\n\n\n\n\n\n\n\n\nAnswer 2\n\n\n\n\n\nFirst we can filter the rows that match the gene name and remove the non-numeric columns.\n\nexpr_tp53 &lt;-\n    breast %&gt;%\n        filter(IDENTIFIER==\"TP53\") %&gt;%\n        select(!c(ID_REF, IDENTIFIER)) \n\nError in breast %&gt;% filter(IDENTIFIER == \"TP53\") %&gt;% select(!c(ID_REF, : could not find function \"%&gt;%\"\n\nexpr_tp53\n\nError: object 'expr_tp53' not found\n\n\nNow to calculate the mean of each one of the rows we can run\n\nexpr_mean_tp53 &lt;-\n    breast %&gt;%\n        filter(IDENTIFIER==\"TP53\") %&gt;%\n        select(!c(ID_REF, IDENTIFIER)) %&gt;%\n        rowMeans()\n\nError in breast %&gt;% filter(IDENTIFIER == \"TP53\") %&gt;% select(!c(ID_REF, : could not find function \"%&gt;%\"\n\nexpr_mean_tp53\n\nError: object 'expr_mean_tp53' not found\n\n\n\n\n\n\n\n\n\n\n\nExercise 3\n\n\n\nFind the patient with the higher average expression levels accross the whole genome.\n\n\n\n\n\n\n\n\nAnswer 3\n\n\n\n\n\n\nmax_idx &lt;-\n    breast %&gt;%\n        select(!c(ID_REF, IDENTIFIER))  %&gt;%\n        colMeans(na.rm=TRUE) %&gt;%\n        which.max()\n\nError in breast %&gt;% select(!c(ID_REF, IDENTIFIER)) %&gt;% colMeans(na.rm = TRUE) %&gt;% : could not find function \"%&gt;%\"\n\nmax_idx\n\nError: object 'max_idx' not found",
    "crumbs": [
      "Worksheet"
    ]
  },
  {
    "objectID": "pages/032-writing-functions.html",
    "href": "pages/032-writing-functions.html",
    "title": "Writing functions",
    "section": "",
    "text": "You can write your own functions in R. For example, let’s try to write a function that calculates the mean average of a list of numbers. As input, the function will take a list of numbers. It should output a number which is the mean of those numbers.\nThere are many ways this function could be written. Here is a possible solution\n\ncalculate_mean &lt;- function(values){\n     total &lt;- 0.0\n     count &lt;- 0\n     for (value in values){\n         total &lt;- total + value\n         count &lt;- count + 1\n     }\n     return(total / count)\n}\n\nWe can then use this function, to, e.g. calculate the average height of a group of people, by typing:\n\nperson_heights = c(1.62, 1.80, 1.56, 1.73, 1.91)\n\naverage_height &lt;- calculate_mean(person_heights)\n\ncat(sprintf(\"The average height is %.2f m\\n\", average_height))\n\nThe average height is 1.72 m\n\n\n\nScaffolding\nTo explain how this worked, we need to look at how this function was defined. There is some scaffolding that is common to all functions. First, we define the function name. In R, this is a variable that holds the code of the function. We define this variable and assign data to it in the same way as if this was assigning a number to a numeric variable, or a string to a string variable, namely using the syntax variable &lt;- value.\n#   Variable    assigned  value \n#      ↓           ↓      ↓\ncalculate_average &lt;- function(...\nNext, we have the keyword function, that says that this is some data that is of type function. This means that the data will contain code. The arguments to function are the arguments you would like to use as input for your new function.\n#                    keyword  arguments\n#                       ↓        ↓\ncalculate_average &lt;- function(values) {\nNext, you need the body of the function. This body is the lines of code that will be run when your function is called. Just like with for loops or if statements, the body of code is contained within curly brackets.\n#                                Open curly brackets\n#                                     ↓\ncalculate_average &lt;- function(values) {\n    # body of the function is the\n    # lines of code within the curly brackets\n} # &lt;- Close curly brackets\nThe input(s) for the function is/are the argument(s) that are passed to function, in this case, values. Our code will loop through all of the values in values to calculate the mean average. Once we have finished, we reach the final part of the function, which is return. This is used to return the output of the function back to the caller.\n#                          Input(s)\n#                            ↓\ncalculate_mean &lt;- function(values){\n     total &lt;- 0.0\n     count &lt;- 0\n     for (value in values){\n         total &lt;- total + value\n         count &lt;- count + 1\n     }\n     return(total / count)\n#      ↑\n#    Return output\n}\nFinally, when we call the function, the arguments that pass to the function are used as the input. The output is then returned and assigned to the result variable. So, in this case:\n#                Call function      with input(s)\n#                        ↓             ↓  \naverage_height &lt;- calculate_mean(person_heights)\n#     ↑         ↑\n#  Output     assigned\ncalculate_mean is called with person_heights. The data referred to by person_heights is passed to calculate_mean and in this function is referred to as values. This data is looped over, the mean average calculated, resulting in an output that is returned at the end of the function, and assigned to the variable average_height.\n\n\n\n\n\n\nExercise\n\n\n\nWrite a function, called calculate_max, that returns the largest value. Use this to find the largest height in the list of heights above.\nHint: start by using a variable called max_value and setting that equal to NA. Then use if (is.na(max_value) || value &gt; max_value) to test whether a value in values is greater. The || is a logical OR.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\n\ncalculate_max &lt;- function(values){\n    max_value &lt;- NA\n\n    for (value in values){\n        if (is.na(max_value) || value &gt; max_value){\n            max_value = value\n        }\n    }\n\n    return(max_value)\n}\n\nperson_heights = c(1.62, 1.80, 1.56, 1.73, 1.91)\n\nmax_height = calculate_max(person_heights)\n\ncat(\"The highest person is\", max_height, \"m.\")\n\nThe highest person is 1.91 m.",
    "crumbs": [
      "Functions",
      "Writing functions"
    ]
  },
  {
    "objectID": "pages/021-install-packages.html",
    "href": "pages/021-install-packages.html",
    "title": "Installing CRAN packages",
    "section": "",
    "text": "CRAN packages can be easily installed using the install.packages function. For example, the stringr package provides a set of modern functions for manipulating and formatting strings.\nTo use stringr, we first need to install the package typing into your script or console:\ninstall.packages(\"stringr\")\nand click run or hit return, respectively. If your user account has permission to install packages then you should see something like:\ntrying URL 'https://cloud.r-project.org/bin/macosx/big-sur-arm64/contrib/4.4/stringr_1.5.1.tgz'\nContent type 'application/x-gzip' length 314273 bytes (306 KB)\n==================================================\ndownloaded 306 KB\n\nThe downloaded binary packages are in\n    /var/folders/bq/2w1p57q54r78thfjpfy2cbrc0000gp/T//RtmpQ8lR4N/downloaded_packages\nNotice that this will automatically get the right package for your operating system (in this example macosx). Also note that you only have to do this once, as once installed, this package is already available. If you have permission issues installing new packages in your system, you can try installing them in your user space with\ninstall.packages(\"stringr\", lib=\"/Users/ab12345/rlib\")\nwhere /Users/ab12345/rlib is a folder in your user space; or contact your IT service for help.\n\nUpdating packages\nR package management is handled directly within the language, what makes makes easier to install packages and keep them up to date.\nTo update a package you can simply run install.packages again, e.g. to update stringr to the newest version, just type:\ninstall.packages(\"stringr\")\nYou can get a list of all installed packages via installed.packages(), e.g.\n\n# note that we are printing only a few of them\ninstalled.packages()[10:30]\n\n [1] \"glue\"       \"highr\"      \"htmltools\"  \"jquerylib\"  \"jsonlite\"  \n [6] \"knitr\"      \"later\"      \"lifecycle\"  \"memoise\"    \"mime\"      \n[11] \"processx\"   \"ps\"         \"quarto\"     \"R6\"         \"rappdirs\"  \n[16] \"Rcpp\"       \"renv\"       \"rlang\"      \"rmarkdown\"  \"rstudioapi\"\n[21] \"sass\"      \n\n\nYou can get a list of all packages for which new versions are available using old.packages(), e.g.\nold.packages()\n\n\n           Installed  Built   ReposVer  Repository                            \nboot       \"1.3-30\"   \"4.4.0\" \"1.3-31\"  \"https://cran.rstudio.com/src/contrib\"\nforeign    \"0.8-86\"   \"4.4.0\" \"0.8-87\"  \"https://cran.rstudio.com/src/contrib\"\nglue       \"1.7.0\"    \"4.4.0\" \"1.8.0\"   \"https://cran.rstudio.com/src/contrib\"\nKernSmooth \"2.23-22\"  \"4.4.0\" \"2.23-24\" \"https://cran.rstudio.com/src/contrib\"\nMASS       \"7.3-60.2\" \"4.4.0\" \"7.3-61\"  \"https://cran.rstudio.com/src/contrib\"\nMatrix     \"1.7-0\"    \"4.4.0\" \"1.7-1\"   \"https://cran.rstudio.com/src/contrib\"\nnlme       \"3.1-164\"  \"4.4.0\" \"3.1-166\" \"https://cran.rstudio.com/src/contrib\"\nsurvival   \"3.5-8\"    \"4.4.0\" \"3.7-0\"   \"https://cran.rstudio.com/src/contrib\"\n\n\nYou can update all packages for which updates are available using update.packages(). You can add the option update.packages(ask=FALSE) to update everything without prompting. Note that updating all of your packages could take a while if you haven’t done it recently.\nupdate.packages()\n\n\nboot :\n Version 1.3-30 installed in /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library \n Version 1.3-31 available at https://cran.rstudio.com\nUpdate? (Yes/no/cancel)\n\n\n\n\n\n\n\n\nUpdates and reproducibility\n\n\n\nSoftware updates can pose challenges for reproducibility. It’s important to document and track the specific versions of software and packages used. renv is a package management tool for R that helps create reproducible environments.",
    "crumbs": [
      "Packages",
      "Installing CRAN packages"
    ]
  },
  {
    "objectID": "answers/answer_string_methods.html",
    "href": "answers/answer_string_methods.html",
    "title": "Intro to R (Part 2)",
    "section": "",
    "text": "You can split any string using the str.split function. By default it splits on spaces:\ns &lt;- \"what is your name\"\ns.split()\n\nJoin a list\nYou can join a list together by using the str.join function. Note that in front of the dot you put the string that you want to join with, and you pass the list you want to join together as an argument.\nl &lt;- [\"a\", \"b\", \"c\"]\n\"-\".join(l)\nl &lt;- [\"a\", \"b\", \"c\"]\n\":\".join(l)\nl &lt;- [\"a\", \"b\", \"c\"]\n\" \".join(l)"
  },
  {
    "objectID": "answers/answer_hello_name.html",
    "href": "answers/answer_hello_name.html",
    "title": "Intro to R (Part 2)",
    "section": "",
    "text": "To get input from the person running your script, you can use the function input(). And to get the length of your variable you can call len().\n#| filename: hello.R\n#| eval: false\nmy_name &lt;- input(\"Please tell me your name: \")\n\nname_length &lt;- len(my_name)\n\nprint(f\"Hello {my_name}! Your name is {name_length} characters long\")\n#| echo: false\nmy_name &lt;- \"Jean\"\n\nprint(\"Please tell me your name:\", my_name)\n\nname_length &lt;- len(my_name)\n\nprint(f\"Hello {my_name}! Your name is {name_length} characters long\")"
  },
  {
    "objectID": "answers/answer_morse_case.html",
    "href": "answers/answer_morse_case.html",
    "title": "Intro to R (Part 2)",
    "section": "",
    "text": "The function str.lower gives you back a copy of the string, but all made into lower case.\nIn our situation, the first letter is “S” and so letter.lower() will give us \"s\".\n#| filename: encode.R\n#| output: false\nletter_to_morse &lt;- {\n    'a':'.-', 'b':'-...', 'c':'-.-.', 'd':'-..', 'e':'.', 'f':'..-.', \n    'g':'--.', 'h':'....', 'i':'..', 'j':'.---', 'k':'-.-', 'l':'.-..', 'm':'--', \n    'n':'-.', 'o':'---', 'p':'.--.', 'q':'--.-', 'r':'.-.', 's':'...', 't':'-',\n    'u':'..-', 'v':'...-', 'w':'.--', 'x':'-..-', 'y':'-.--', 'z':'--..',\n    '0':'-----', '1':'.----', '2':'..---', '3':'...--', '4':'....-',\n    '5':'.....', '6':'-....', '7':'--...', '8':'---..', '9':'----.', ' ':'/'\n}\n\nmessage &lt;- \"SOS We have hit an iceberg and need help quickly\"\n\nmorse &lt;- []\n\nfor letter in message:\n    letter &lt;- letter.lower()  #  ← We have added this line of code\n    morse_letter &lt;- letter_to_morse[letter]\n    morse.append(morse_letter)\n\nmorse_message &lt;- \" \".join(morse)\n\nprint(f\"Incoming message: {message}\")\nprint(f\"   Morse encoded: {morse_message}\")\n\n\nTerminal/Command Prompt\n\nRScript encode.R\n\n#| echo: false\nletter_to_morse &lt;- {\n    'a':'.-', 'b':'-...', 'c':'-.-.', 'd':'-..', 'e':'.', 'f':'..-.', \n    'g':'--.', 'h':'....', 'i':'..', 'j':'.---', 'k':'-.-', 'l':'.-..', 'm':'--', \n    'n':'-.', 'o':'---', 'p':'.--.', 'q':'--.-', 'r':'.-.', 's':'...', 't':'-',\n    'u':'..-', 'v':'...-', 'w':'.--', 'x':'-..-', 'y':'-.--', 'z':'--..',\n    '0':'-----', '1':'.----', '2':'..---', '3':'...--', '4':'....-',\n    '5':'.....', '6':'-....', '7':'--...', '8':'---..', '9':'----.', ' ':'/'\n}\n\nmessage &lt;- \"SOS We have hit an iceberg and need help quickly\"\n\nmorse &lt;- []\n\nfor letter in message:\n    letter &lt;- letter.lower()  #  ← We have added this line of code\n    morse_letter &lt;- letter_to_morse[letter]\n    morse.append(morse_letter)\n\nmorse_message &lt;- \" \".join(morse)\n\nprint(f\"Incoming message: {message}\")\nprint(f\"   Morse encoded: {morse_message}\")"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Introduction",
    "section": "",
    "text": "Welcome to this second course on R programming! This course builds upon Beginning R and delves deeper into installing and using packages, working with and write functions, and using tidyverse for data analysis. Get ready to take your R skills to the next level!\nFor the purpose of this course we will be using RStudio which provides you with a text editor and R console. Setting up instructions can be found here.\n\nIntended learning outcomes\nBy the end of this course, you will:\n\nFeel confident installing and using packages\nKnow how to write functions\nBe familiar with tydiverse ecosystem\nKnow how to read, filter and transform data\n\n\n\nHow to read this documentation\nIn this documentation, any time that we are seeing a small snippet of R code, we’ll see it written in a grey box like the following:\ncat(\"Hello, R\")\nIf the commands are executed by the machine we will see the output of them below enclosed on a vertical purple line:\n\ncat(\"Hello, R!\")\n\nHello, R!\n\n\nBy contrast, you will see larger pices of code as scripts with a given name, e.g. script.R, in a code block with darker header:\n\n\nscript.R\n\nname &lt;- \"Jean Golding\"\ncat(\"Hello,\", name, \"!\")\n\nWe may ask you to run a script using the Command Prompt (Windows) or Terminal (Mac and Linux). We will show you what commands to run and will look like this:\n\n\nTerminal/Command Prompt\n\nRscript script.R\n\nIn some cases we will introduce general programming concepts and structures using pseudocode, a high-level, easy-to-read syntax close to natural language. This should not be confused with R code and cannot be executed on your machine, but it is useful to describe how your code should behave. Here there is an example:\nFOR EACH sample IN my_study\n    IF (sample.value &gt; 100)\n        DO SOMETHING\n    OTHERWISE\n        DO SOMETHING ELSE\nThere are some exercices along this course, and it is important you try to answer them yourself to understand how R works. Exercises are shown in blue boxes followed by a yellow box that contains the answer of each exercise. We recommend you to try to answer each exercise yourself before looking at the solution.\n\n\n\n\n\n\nExercise\n\n\n\nThis is an exercise. You will need to click in the below box to see the answer.\n\n\n\n\n\n\n\n\nAnswer (click to open)\n\n\n\n\n\nThis is the answer.\n\n\n\nLast, we will highlight important points using green boxes like this one:\n\n\n\n\n\n\nKey points\n\n\n\nThese are important concepts and technical notes.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "pages/022-loading-packages.html",
    "href": "pages/022-loading-packages.html",
    "title": "Using packages",
    "section": "",
    "text": "Once installed, packages are loaded into the R environment using the function library(). For example, to use stringr you should type:\n\nlibrary(stringr)\n\nError in library(stringr): there is no package called 'stringr'\n\n\nIf you see output similar to;\nError in library(stringr) : there is no package called ‘stringr’\nthen this means that stringr is not installed properly. Try installing it again with install.packages(\"stringr\").\nTo get help on a package type ? followed by its name, e.g.\n?stringr\nYou can also look for the vignette documentation and examples typing\nvignette(\"stringr\")\n\n\n\n\n\n\nExercise\n\n\n\nLearn more about the packagestringr exploring its vigenette.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nvignette(\"stringr\")",
    "crumbs": [
      "Packages",
      "Using packages"
    ]
  },
  {
    "objectID": "pages/990-contributors.html",
    "href": "pages/990-contributors.html",
    "title": "Contributors",
    "section": "",
    "text": "This course has been developed by the Jean Golding Insitute.\nPart of these materials were originally written by Christopher Woods https://chryswoods.com/intermediate_r/.",
    "crumbs": [
      "Contributors"
    ]
  },
  {
    "objectID": "pages/020-packages.html",
    "href": "pages/020-packages.html",
    "title": "Packages",
    "section": "",
    "text": "The R community actively contributes to package development, resulting in a rapidly growing ecosystem of packages that extend the core functionality. This package ecosystem is one of its greatest strengths, providing an extensive collection of tools and functionalities that make R a powerful language for data analysis, statistics, and visualization.\nPackages can be found hosted in different repositiories on the Internet. The main ones are:\n\nCRAN (Comprehensive R Archive Network): the official repository containing thousands of packages\nBioconductor: a repository focused on bioinformatics\nGitHub: some developers host their R packages on GitHub\n\nR packages in CRAN can be easily installed using the install.packages() function. Once installed, packages are loaded into the R environment using the library() function. We are going to see examples of of how to use both functions in this section.\n\nCRAN\nThe power of R comes from its great wealth of excellent packages. These packages are managed in a central repository called CRAN (the Comprehensive R Archive Network). There are very strict protocols to follow to publish a package in CRAN, which includes an external review stage. As such, publishing an R package is a lot like publishing a paper, and so R packages on CRAN are mostly of a high standard, and come complete with documentation and tests. You can get an idea of what is needed to publish a package on CRAN by reading R Packages by Hadley Wickham and Jennifer Bryan. This excellent online book provides complete detail of how to write and publish an R package.\nA good way to find the package you want is to use an R search service, such as rseek. You can search for individual package names, or even the kind of thing you want to do. As most R packages come with vignettes (web pages that show documentation and examples of how to use the package) this means you can quickly find both the package that achieves your goal, plus documentation and examples.\n\n\n\n\n\n\nExercise\n\n\n\nUse https://rseek.org to look for packages that help you calculate Pearson’s product-moment correlation. Limit the search to vignettes. Can you find a vignette that shows you how to do this? Do not worry that the R in the vignette is more advanced than you’ve seen so far - it won’t be long before it will make sense.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nGo to https://rseek.org and search for the method we are interested in: “pearson product-moment correlation”. Set the search type to “Vignette”, and you should see several results.\nThis search result shows promise, so take a look at that: broom and dply.\nThis page contains an example showing a calculation of Pearson’s product-moment correlation. From this we can see that the cor.test from the stats package is used to calculate these correlations. We can get help with cor.test by typing ?cor.test in the console.",
    "crumbs": [
      "Packages"
    ]
  },
  {
    "objectID": "pages/010-workspace-setup.html",
    "href": "pages/010-workspace-setup.html",
    "title": "Workspace setup",
    "section": "",
    "text": "Please follow our installation instructions.\nOnce you’ve gone through those, you should be ready to get started!",
    "crumbs": [
      "Workspace setup"
    ]
  },
  {
    "objectID": "pages/033-error-functions.html",
    "href": "pages/033-error-functions.html",
    "title": "Handling errors",
    "section": "",
    "text": "Your function works well, but what would happen if the wrong arguments were passed? Let’s check what happens with our function calculate_mean.\n\nresult &lt;- calculate_mean(c(\"cat\", \"dog\", \"horse\"))\n\nError in total + value: non-numeric argument to binary operator\n\n\nThis isn’t very descriptive or helpful. Fortunately, you can control how R will behave in an error condition by using stop or warning.\nYou use stop if you want to stop the function from continuing, and to print an error message for the user. For example, we could use is.numeric function to check if all of the values are numeric. If not, then we could call stop.\n\ncalculate_mean &lt;- function(values){\n     total &lt;- 0.0\n     count &lt;- 0\n     for (value in values){\n         if (!is.numeric(value)){\n             stop(\"Cannot calculate average of non-numeric values\")\n         }\n         total &lt;- total + value\n         count &lt;- count + 1\n     }\n     return(total / count)\n}\n\nresult &lt;- calculate_mean(c(\"cat\", \"dog\", \"horse\"))\n\nError in calculate_mean(c(\"cat\", \"dog\", \"horse\")): Cannot calculate average of non-numeric values\n\n\nThis is a much more useful error message! However, what if instead of stopping, we want to calculate the average of any numeric values, and just warn the user if non-numeric values are passed? We can do this using the warning function:\n\ncalculate_mean &lt;- function(values){\n     total &lt;- 0.0\n     count &lt;- 0\n     for (value in values){\n         number &lt;- as.numeric(value)\n\n         if (!is.na(number)){\n             total &lt;- total + number\n             count &lt;- count + 1\n         } else {\n             warning(\"Skipping '\", value, \n                     \"' as it is not numeric\")\n         }\n     }\n     return(total / count)\n}\n\nresult &lt;- calculate_mean(c(\"cat\", \"dog\", \"horse\"))\n\nWarning in calculate_mean(c(\"cat\", \"dog\", \"horse\")): NAs introduced by coercion\n\n\nWarning in calculate_mean(c(\"cat\", \"dog\", \"horse\")): Skipping 'cat' as it is\nnot numeric\n\n\nWarning in calculate_mean(c(\"cat\", \"dog\", \"horse\")): NAs introduced by coercion\n\n\nWarning in calculate_mean(c(\"cat\", \"dog\", \"horse\")): Skipping 'dog' as it is\nnot numeric\n\n\nWarning in calculate_mean(c(\"cat\", \"dog\", \"horse\")): NAs introduced by coercion\n\n\nWarning in calculate_mean(c(\"cat\", \"dog\", \"horse\")): Skipping 'horse' as it is\nnot numeric\n\n\nIn this case, we try to convert the value into a number using the as.numeric function. If this fails, it will return NA. We then test for NA using the is.na function, printing a warning that we are skipping this value if it isn’t a number.\n\n\n\n\n\n\nExercise\n\n\n\nAdd error handling to your calculate_max function so that it warns when non-numeric values are skipped, and stops when there is no maximum value (i.e. because there are no numeric values passed).\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\n\ncalculate_max &lt;- function(values){\n    max_value &lt;- NA\n\n    for (value in values){\n        number &lt;- as.numeric(value)\n\n        if (is.na(number)){\n            warning(\"Ignoring '\", value,\n                    \"' as it is not a number\")\n        } else {\n            if (is.na(max_value) || number &gt; max_value){\n                max_value = number\n            }\n        }\n    }\n\n    if (is.na(max_value)){\n        stop(\"You can only find the maximum of numeric values\")\n    }\n\n    return(max_value)\n}\n\nWe can now test it with\n\ncalculate_max(c(\"cat\", \"dog\", 5))\n\nWarning in calculate_max(c(\"cat\", \"dog\", 5)): NAs introduced by coercion\n\n\nWarning in calculate_max(c(\"cat\", \"dog\", 5)): Ignoring 'cat' as it is not a\nnumber\n\n\nWarning in calculate_max(c(\"cat\", \"dog\", 5)): NAs introduced by coercion\n\n\nWarning in calculate_max(c(\"cat\", \"dog\", 5)): Ignoring 'dog' as it is not a\nnumber\n\n\n[1] 5",
    "crumbs": [
      "Functions",
      "Handling errors"
    ]
  },
  {
    "objectID": "pages/040-tidyverse.html",
    "href": "pages/040-tidyverse.html",
    "title": "Tidyverse",
    "section": "",
    "text": "R is an old programming language that was written as a re-implementation of the even older language, S. Over the years this has meant that R has gained many different layers and methods of doing things. This has created lots of inconsistencies and cruft, with R sometimes behaving in strange and unexpected ways that can be confusing for new users, and not suited to applications in modern data science.\nThe tidyverse is a coherent collection of modern R packages that solves this problem. It is a coherent system of packages for data manipulation, exploration and visualization that share a common design philosophy. The packages were originally mostly developed by Hadley Wickham, but have been expanded by several contributers and has now developed into a thriving and highly supportive community.\nThere is lots of information about tidyverse on the web, e.g. R for Data Science (2e) is an online book by Hadley Wickham, Mine Çetinkaya-Rundel and Garrett Grolemund, that teaches the concepts of tidy data and shows how R with the tidyverse will help you create tidy data workflows. Modern R is the tidyverse, and it is strongly recommend that you use the tidyverse when you use R for data science.\n\n\n\n\n\n\nTidyverse philosophy\n\n\n\nThe goal of tydiverse is to help you create and work with tidy data. Tidy data is data where:\n\nEach variable is a column; each column is a variable.\nEach observation is a row; each row is an observation.\nEach value is a cell; each cell is a single value.\n\n\n\n\nInstalling and loading the tidyverse\nYou can install and use tidyverse by typing:\ninstall.packages(\"tidyverse\")\n\nlibrary(tidyverse)\nThis will download and then import tidyverse modules. Remember you only need to run install.packages(\"tidyverse\") once. You should see something similar to this printed:\n── Attaching core `tidyverse` packages ────────────────────────────────────────────────────────────────── `tidyverse` 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ──────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\nThis shows that the nine core tidyverse modules have been loaded:\n\ndplyr https://dplyr.tidyverse.org\nforcats https://forcats.tidyverse.org\nggplot2 https://ggplot2.tidyverse.org/\nlubridate https://lubridate.tidyverse.org/\npurrr https://purrr.tidyverse.org\nreadr https://readr.tidyverse.org\nstringr https://stringr.tidyverse.org\ntibble https://tibble.tidyverse.org\ntidyr https://tidyr.tidyverse.org\n\nIt also shows that the modern dplyr::filter and dplyr::lag functions replace the older stats::filter and stats::lag functions.\n\n\n\n\n\n\nExercise\n\n\n\nInstall and load the tidyverse. Use the links above for the nine modules to find out exactly what each package provides.\n\n\n\n\n\n\n\n\nAnswer\n\n\n\n\n\nFrom the links in the page, the tidyverse packages are:\n\ndplyr - provides a set of data manipulation functions arranged around a consistent grammar for data manipulation. This includes, for example, filtering, selecting, mutating and arranging data.\nforcats - provides updated and more consistent tools for handling R factors (ways of representing catagorical data).\nggplot2 - a package for creating fantastic graphs and visualisations of tidy data. It is built on the concept of a grammar for graphics, which, once understood, provides a straightforward and consistent interface for creating sophisticated graphs and plots of tidy data.\nlubridate - makes easier and more unintuitive to work with date-times.\npurrr - provides a functional programming toolkit, e.g. enabling you to perform functions on selected data within a tibble via mapping.\nreadr - provides an updated version of R’s data reading functions, bringing greater consistency and more predictable behaviour.\nstringr - provides a cohesive set of functions designed to make working with strings as easy as possible.\ntibble - provides an updated version of a data.frame, the tibble, that is more consistent and better-suited to the needs of modern data science\ntidyr - provides tools for cleaning and manipulating your data so that it becomes “tidy data”. The tidyverse is built on the concept of tidy data. Tidy data is where every column is a variable, every row is an observation and every cell has a single value. Typically, real-world data needs to be munged to become tidy, e.g. via pivoting, rectangling, nesting etc. This package provides the functions to do this efficiently.",
    "crumbs": [
      "Tidyverse"
    ]
  }
]